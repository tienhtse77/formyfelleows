---
layout: base.njk
---

{# In production, redirect draft posts or show 404 #}
{% if env.isProduction and draft %}
<div class="error-page">
    <h1>404 - Page Not Found</h1>
    <p>The page you're looking for doesn't exist or is not yet published.</p>
    <p><a href="/">‚Üê Back to Home</a></p>
</div>
{% else %}
<article class="post">
    <header class="post-header">
        {% if draft %}
        <div class="draft-banner">
            <strong>üöß DRAFT POST</strong> - This post is not published and only visible in development mode
        </div>
        {% endif %}
        <h1 class="post-title">{{ title }}</h1>
        <div class="post-meta">
            <time class="post-date" datetime="{{ date | date('Y-m-d') }}">
                {{ date | dateFilter }}
            </time>
            {% if tags %}
            <div class="post-tags">
                {% for tag in tags %}
                    {% if tag != "post" %}
                    <span class="tag">#{{ tag }}</span>
                    {% endif %}
                {% endfor %}
            </div>
            {% endif %}
            <span class="reading-time">{{ content | readingTime }}</span>
        </div>
        {% if description %}
        <p class="post-description">{{ description }}</p>
        {% endif %}
    </header>

    <div class="post-content">
        {{ content | safe }}
    </div>

    <footer class="post-footer">
        <div class="post-nav">
            <p>Thank you for reading!</p>
        </div>
    </footer>
</article>
{% endif %}